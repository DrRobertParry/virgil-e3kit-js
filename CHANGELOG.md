# Changelog

## 2019-11-05 0.7.0-beta.0

### Added

* Ability to create secure group chats. See example in [Readme](/README.md)
* New method to search for other users' public keys - `EThree.findUsers`, which returns Virgil Cards instead of public keys.

### Deprecated

* `EThree.lookupPublicKeys` - new implementations should use `EThree.findUsers` instead.
* Calling `EThree.encrypt` and `EThree.decrypt` with the result of `EThree.lookupPublicKeys` method. New implementations should pass the result of `EThree.findUsers` instead.

> A warning will be printed to the console if deprecated methods are called.

### Breaking changes

* Starting from this version E3kit is distributed as a monorepo. We've split it up into separate packages for [Browsers](/packages/e3kit-browser), [Node.js](/packages/e3kit-node) and [React Native](/packages/e3kit-native). The [e3kit](/packages/e3kit) package will continue to exist on NPM, so this is actually a backward-compatible change, however we recommend new implementations to depend on a package specific to their platform for faster install times and correct type definitions.

* `EThree.encrypt`, `EThree.decrypt` and `EThree.backupPrivateKey` now throw `MissingPrivateKeyError` instead of `RegisterRequiredError` when private key is not found. That error makes more sense because the identity might be registered even if the key does not exist on the device.

## 2019-10-24 0.6.2

* Fixed: references to `process.env` remained in bundles due to a misconfiguration of Rollup plugin that was meant to replace them with actual values. This caused `ReferenceError: process is not defined` when using UMD bundle in a browser. And it also caused VirgilAgent header to not include the product and version info.

## 2019-10-15 0.6.1

* Fixed errors during construction of custom error objects in React Native

## 2019-10-11 0.6.0

* The only change comparing to beta version is that we now send users' e3kit version and platform information (not personal information or anything that can be used to track users online) in an HTTP header with each request to Virgil Cloud to help us improve our services and provide better support.

## 2019-09-12 0.6.0-beta.2

* Fix: added missing exports for custom error classes and TypeScript type definitions

## 2019-09-09 0.6.0-beta.1

* Switched to WebAssembly-based JS crypto library
* Started using native crypto libraries in React Native via JS bridge
* Added Node.js support

## 2019-08-28 0.5.3

* Caching the private key in memory to improve performace.

## 2019-08-23 0.5.2

* Added ability to provide custom keypair to `e3Instance.register` method.

## 2019-08-20 0.5.1

* `EThree.initialize` now throws a `TypeError` if the `getToken` argument is not a function.

## 2019-06-24 0.5.0

* Added `Ethree.unregister()` method to revoke the current user's Virgil Card in Virgil Cloud and delete the local private key (i.e. undo everything `register` does).

## 2019-05-10 0.3.9

* Fixed public key checking in encrypt method.

## 2019-05-10 0.3.8

* Fixed web worker usage.

## 2019-02-21 0.3.7

* Changed method signature of EThree.resetPrivateKeyBackup(pwd?). Now password is optional. But if you using the Virgil Keyknox service directly to save some additional data, you should use password to not delete this data.

## 2019-02-13 0.3.6

* Fixed compatibility with JWT generated by Python SDK

## 2019-01-10 0.3.5

* Added React Native support, see https://github.com/VirgilSecurity/virgil-e3kit-js#react-native-usage

## 2018-12-22 0.3.4

* Fixed broken buildings bugs
* Fixed error when encryptor public key was passed in encrypt function

## 2018-11-30 0.3.0

* Removed method EThree.boostrap(pwd)
* Method EThree.bootstrap() renamed to EThree.register()
* New method EThree.rotatePrivateKey() - used in case you lost your private key
* New method EThree.restorePrivateKey(pwd) - used to fetch private key from Virgil Cloud
* New method EThree.hasLocalPrivateKey() - used to check for private key existence on a device
* New method EThree.resetPrivateKeyBackup(pwd) - used to reset private key backup.

## 2018-11-20 0.2.0

* Rename EThree.init method to EThree.initialize
* EThree.encrypt method now can accept single public key
* EThree.decrypt method now accept sender public key instead of array
* Ð•Three.lookupPrivateKey now can lookup for one identity and return one public key.

## 2018-11-06 0.1.2

* Make `identity` property of EThree class public
* Expose instances of VirgilSDK thought `toolbox` property

## 2018-10-31 0.1.1

* Fixed bug with Ionic
* Fixed Typescript typings


## 2018-10-25 0.1.0 - Developer Preview

* First draft, implemented init, boostrap, lookupPublicKey, backupPrivateKey, resetPrivateKey, encrypt and decrypt.
* Not suitable for production
* Tested on modern browsers
